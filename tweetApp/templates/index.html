<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>TweetHub — Home</title>
    <meta name="description" content="A clean, responsive homepage for a Tweet-style app.">
    <style>
        :root{
            --bg:#0f1720;
            --card:#0b1220;
            --muted:#9aa7b2;
            --accent:#1da1f2;
            --glass: rgba(255,255,255,0.03);
            --radius:12px;
            --max-width:1100px;
        }
        *{box-sizing:border-box}
        html,body{height:100%}
        body{
            margin:0;
            font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
            background:linear-gradient(180deg,#071027 0%,#061326 60%);
            color:#e6f0f5;
            -webkit-font-smoothing:antialiased;
            -moz-osx-font-smoothing:grayscale;
            display:flex;
            justify-content:center;
            padding:28px;
        }

        .container{
            width:100%;
            max-width:var(--max-width);
            display:grid;
            grid-template-columns:220px 1fr 320px;
            gap:20px;
            align-items:start;
        }

        /* Sidebar / nav */
        .nav{
            position:sticky;
            top:28px;
            align-self:start;
            background:var(--card);
            border-radius:var(--radius);
            padding:16px;
            min-height:120px;
            box-shadow:0 6px 18px rgba(2,6,23,0.6);
        }
        .brand{
            display:flex;
            gap:12px;
            align-items:center;
            margin-bottom:14px;
        }
        .logo{
            width:44px;height:44px;border-radius:10px;
            background:linear-gradient(135deg,var(--accent),#6ec6ff 80%);
            display:grid;place-items:center;font-weight:700;color:#042;
            box-shadow:0 6px 18px rgba(29,161,242,0.14);
        }
        .nav h1{font-size:1rem;margin:0}
        .nav p{margin:6px 0 0;color:var(--muted);font-size:0.85rem}

        .nav .links{margin-top:12px;display:flex;flex-direction:column;gap:8px}
        .nav a{
            display:flex;gap:10px;align-items:center;padding:8px;border-radius:10px;color:var(--muted);
            text-decoration:none;font-weight:600;font-size:0.95rem;
        }
        .nav a:hover{background:var(--glass);color:#fff}

        /* Main feed area */
        .main{
            position:relative;
            min-height:100px;
            border-radius:var(--radius);
        }

        .composer{
            background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
            border-radius:14px;padding:14px;margin-bottom:18px;box-shadow:0 8px 28px rgba(2,6,23,0.45);
        }
        .composer-top{display:flex;gap:12px}
        .avatar{
            width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,#9be7ff,#66c6ff);display:grid;place-items:center;color:#00293b;font-weight:700;
        }
        .composer textarea{
            flex:1;background:transparent;border:0;resize:none;color:inherit;font-size:1rem;height:80px;
            outline:none;padding:6px 0;
        }
        .composer-footer{display:flex;justify-content:space-between;align-items:center;margin-top:10px}
        .meta{display:flex;gap:10px;align-items:center;color:var(--muted);font-size:0.92rem}
        .post-btn{
            background:linear-gradient(90deg,var(--accent),#6ec6ff);border:0;color:#062; padding:8px 14px;border-radius:999px;font-weight:700;cursor:pointer;
            box-shadow:0 8px 18px rgba(29,161,242,0.12)
        }
        .post-btn:disabled{opacity:0.45;cursor:not-allowed;box-shadow:none}

        /* Feed cards */
        .feed{display:flex;flex-direction:column;gap:12px}
        .tweet{
            background:var(--card);padding:12px;border-radius:12px;display:flex;gap:12px;align-items:flex-start;
            box-shadow:0 6px 18px rgba(2,6,23,0.45);
        }
        .tweet .content{flex:1}
        .tweet .head{display:flex;align-items:center;gap:8px}
        .name{font-weight:700}
        .handle{color:var(--muted);font-size:0.9rem;margin-left:6px}
        .time{color:var(--muted);font-size:0.85rem;margin-left:auto}
        .text{margin-top:8px;line-height:1.45}
        .tweet .actions{display:flex;gap:12px;margin-top:10px;color:var(--muted);font-size:0.95rem}

        /* Right sidebar */
        .aside{
            position:sticky;top:28px;background:var(--card);border-radius:var(--radius);padding:16px;color:var(--muted);
            box-shadow:0 6px 18px rgba(2,6,23,0.45)
        }
        .search{display:flex;gap:8px;margin-bottom:12px}
        .search input{flex:1;background:transparent;border:1px solid rgba(255,255,255,0.04);padding:8px;border-radius:10px;color:inherit;outline:none}
        .trending h3{margin:0 0 8px 0;color:#fff}
        .trend{padding:10px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);margin-bottom:8px}

        footer{grid-column:1/-1;margin-top:18px;color:var(--muted);text-align:center;font-size:0.9rem}

        /* Responsive */
        @media (max-width:980px){
            .container{grid-template-columns:1fr;padding:0 12px}
            .nav,.aside{display:none}
            footer{margin-top:14px}
        }
    </style>
</head>
<body>
    <div class="container" role="main" aria-label="TweetHub homepage">
        <nav class="nav" aria-label="Primary navigation">
            <div class="brand">
                <div class="logo" aria-hidden="true">TH</div>
                <div>
                    <h1>TweetHub</h1>
                    <p>Share concise thoughts — quickly.</p>
                </div>
            </div>
            <div class="links">
                <a href="#" aria-current="page">Home</a>
                <a href="#">Explore</a>
                <a href="#">Notifications</a>
                <a href="#">Profile</a>
            </div>
        </nav>

        <main class="main">
            <section class="composer" aria-labelledby="composer-label">
                <div class="composer-top">
                    <div class="avatar" aria-hidden="true">Y</div>
                    <div style="flex:1">
                        <label id="composer-label" for="tweet-input" style="font-weight:700">What's happening?</label>
                        <textarea id="tweet-input" maxlength="280" placeholder="Write a tweet..." aria-describedby="chars"></textarea>
                        <div class="composer-footer">
                            <div class="meta">
                                <span id="chars">280</span>
                                <span>characters left</span>
                            </div>
                            <button id="post-btn" class="post-btn" disabled>Tweet</button>
                        </div>
                    </div>
                </div>
            </section>

            <section class="feed" id="feed" aria-live="polite" aria-label="Feed">
                <!-- Tweets are injected here -->
            </section>

            <aside class="aside" aria-label="Trending and search">
                <div class="search">
                    <input id="search" placeholder="Search Tweets" />
                </div>
                <div class="trending">
                    <h3>Trending</h3>
                    <div class="trend">#WebDevelopment</div>
                    <div class="trend">#CSS</div>
                    <div class="trend">#JavaScript</div>
                </div>
            </aside>
        </main>

        <footer>&copy; <span id="year"></span> TweetHub • Built for demo</footer>
    </div>

    <script>
        // Simple feed with localStorage persistence and basic interactivity.
        const MAX = 280;
        const input = document.getElementById('tweet-input');
        const chars = document.getElementById('chars');
        const postBtn = document.getElementById('post-btn');
        const feedEl = document.getElementById('feed');
        const yearEl = document.getElementById('year');
        const searchEl = document.getElementById('search');

        yearEl.textContent = new Date().getFullYear();

        function loadTweets(){
            try{
                const raw = localStorage.getItem('tweethub_feed');
                return raw ? JSON.parse(raw) : [
                    {id:cryptoRandomId(), name:'Ava', handle:'@ava', text:'Welcome to TweetHub — concise thoughts, friendly vibes.', time:Date.now()-3600_000},
                    {id:cryptoRandomId(), name:'Dev', handle:'@dev', text:'Try posting a tweet using the composer on the left!', time:Date.now()-1800_000}
                ];
            }catch(e){ return []; }
        }
        function saveTweets(list){ localStorage.setItem('tweethub_feed', JSON.stringify(list)); }

        function cryptoRandomId(){
            return Math.random().toString(36).slice(2,9);
        }

        let tweets = loadTweets();

        function formatTime(ts){
            const s = Math.floor((Date.now()-ts)/1000);
            if(s < 60) return s+'s';
            const m = Math.floor(s/60);
            if(m < 60) return m+'m';
            const h = Math.floor(m/60);
            if(h < 24) return h+'h';
            const d = Math.floor(h/24);
            return d+'d';
        }

        function renderFeed(filter=''){
            feedEl.innerHTML = '';
            const list = tweets.filter(t=> (t.text + ' ' + t.name + ' ' + t.handle).toLowerCase().includes(filter.toLowerCase()));
            if(list.length === 0){
                feedEl.innerHTML = '<div style="color:var(--muted);padding:18px;border-radius:12px;background:var(--card)">No tweets to show.</div>';
                return;
            }
            for(const t of list.slice().reverse()){
                const el = document.createElement('article');
                el.className = 'tweet';
                el.innerHTML = `
                    <div class="avatar" aria-hidden="true" style="width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,#ffd6a5,#ffbbd0);font-weight:700;color:#052">${t.name.charAt(0)}</div>
                    <div class="content">
                        <div class="head">
                            <div class="name">${escapeHtml(t.name)}</div>
                            <div class="handle">${escapeHtml(t.handle)}</div>
                            <div class="time">${formatTime(t.time)}</div>
                        </div>
                        <div class="text">${escapeHtml(t.text).replace(/\n/g,'<br>')}</div>
                        <div class="actions">
                            <button data-id="${t.id}" class="reply" style="background:none;border:0;color:var(--muted);cursor:pointer">Reply</button>
                            <button data-id="${t.id}" class="delete" style="background:none;border:0;color:var(--muted);cursor:pointer">Delete</button>
                        </div>
                    </div>
                `;
                feedEl.appendChild(el);
            }
        }

        function escapeHtml(s){
            return String(s)
                .replace(/&/g,'&amp;')
                .replace(/</g,'&lt;')
                .replace(/>/g,'&gt;')
                .replace(/"/g,'&quot;')
                .replace(/'/g,'&#39;');
        }

        input.addEventListener('input', ()=>{
            const remaining = MAX - input.value.length;
            chars.textContent = remaining;
            postBtn.disabled = input.value.trim().length === 0 || remaining < 0;
            chars.style.color = remaining < 0 ? '#ff7b7b' : '';
        });

        postBtn.addEventListener('click', ()=>{
            const text = input.value.trim();
            if(!text) return;
            const tweet = {
                id:cryptoRandomId(),
                name:'You',
                handle:'@you',
                text,
                time:Date.now()
            };
            tweets.push(tweet);
            saveTweets(tweets);
            input.value = '';
            chars.textContent = MAX;
            postBtn.disabled = true;
            renderFeed(searchEl.value);
            // focus feed for accessibility
            feedEl.querySelector('.tweet')?.focus();
        });

        feedEl.addEventListener('click', (e)=>{
            const del = e.target.closest('.delete');
            if(del){
                const id = del.dataset.id;
                tweets = tweets.filter(t=>t.id !== id);
                saveTweets(tweets);
                renderFeed(searchEl.value);
            }
            const rep = e.target.closest('.reply');
            if(rep){
                const id = rep.dataset.id;
                const t = tweets.find(x=>x.id===id);
                if(t){
                    input.value = `@${t.handle.replace('@','')} `;
                    input.focus();
                    input.setSelectionRange(input.value.length, input.value.length);
                    input.dispatchEvent(new Event('input'));
                }
            }
        });

        searchEl.addEventListener('input', ()=> renderFeed(searchEl.value));

        // initial render
        document.addEventListener('DOMContentLoaded', ()=> renderFeed(''));
    </script>
</body>
</html>